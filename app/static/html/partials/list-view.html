<div class='view' id='list-view'>

	<div ng-show="!clientView" ng-click="clickHamburger()" class='hamburger-control'>
		<img src="/static/icon/hamburger.png" class='hamburger'>
	</div>

	<div id="list-info" ng-class="{'active': editingListInfo}" class='heading container-bar touchable'>
		<div class='list-main-info' ng-click="clickListInfo()">
			<img class='icon house-blue'>
			<h1 class='name'>{{list.name || 'NEW CLIENT'}}</h1>
			<div ng-show="!editingListInfo">
				<p>{{list.location || 'LOCATION'}}</p>
				<p>{{list.phonenumber || 'PHONENUMBER'}}</p>
			</div>
		</div>
		<div ng-show="editingListInfo">
			<p class='error'>{{error.message}}</p>
			<div class='input-group'>
				<div class='label-container'><label>Name:</label></div>
				<input ng-model="list.name" type="text">
			</div>
			<div class='input-group'>
				<div class='label-container'><label>Address:</label></div>
				<textarea ng-model="list.location"></textarea>
			</div>
			<div class='input-group'>
				<div class='label-container'><label>Phone:</label></div>
				<input class='phonenumber' ng-model="list.phonenumber" type="number">
			</div>

			<button ng-click="saveList()" class='save-btn'>SAVE</button>
		</div>
	</div>

	<div ng-repeat="room in list.rooms" ng-class="{'active': room.active}" class='touchable room-container container-bar'>
		<div ng-click="clickRoom(room)" class='room-main-info'>
			<img ng-class="room.type" class='icon'>
			<h1 ng-class="room.type" class='title'>{{room.name}}</h1>
			<span ng-class="room.type" class='task-count'>{{room.taskCount}}</span>
		</div>

		<div ng-show="room.active" class='tasks-container'>
			<p ng-show="!clientView" class='select-all' ng-click="selectAllTasks(room)">select all</p>
			<div ng-click="clickTask(room, task)" class='task' ng-class="{'selected': (task.selected&&!clientView)}" ng-repeat="task in room.tasks">
				<span ng-show="task.selected&&!clientView">-</span>
				<span ng-show="!task.selected&&!clientView">+</span>
				<span>{{task.name}}</span>
			</div>
			<div ng-show="!clientView" ng-model="newCustomTask" class='task add-custom-task'>
				<span>+</span>
				<input ng-model="newCustomTask" type="text">
				<button class='save-btn' ng-show="newCustomTask" ng-click="addCustomTask(room, newCustomTask);newCustomTask='';">SAVE</button>
			</div>
		</div>
	</div>

	<span class='divider'></span>

	<!-- notes not viewable to client -->
	<div ng-show="!clientView" class='notes-container container-bar' ng-class="{'active': showingNotes}">
		<div class='notes-main-info' ng-click="clickNotes()">
			<img class='icon notes'>
			<h1 class='title notes'>NOTES</h1>
		</div>

		<div ng-show="showingNotes" class='show-notes-container'>
			<!-- if editing notes, show <textarea> and SAVE btn.  Otherwise <p> and EDIT btn. -->
			<p ng-show="!editingNotes">{{list.notes}}</p>
			<textarea ng-show="editingNotes" ng-model="list.notes"></textarea>
			<div class='btn-container'>
				<button ng-click="editNotes()" ng-show="!editingNotes" class='save-btn btn'>EDIT</button>
				<button ng-click="saveNotes()" ng-show="editingNotes&&list.notes" class='save-btn btn'>SAVE</button>
			</div>
		</div>
	</div> <!-- notes-container -->

	<!-- if no price is set, don't show it to client -->
	<div ng-show="!clientView||list.price" class='price-container container-bar' ng-class="{ 'active': editingPrice }">
		<div class='price-main-info'>
			<img ng-click="editPrice()" class='icon price'>
			<h1 ng-click="editPrice()" ng-show="!editingPrice" class='title price'>{{list.price || 'COST'}}</h1>
			<input placeholder="00" ng-show="editingPrice" type='number' ng-model="list.price">
			<button ng-click="savePrice()" ng-show="editingPrice" class='save-btn btn'>SAVE</button>
		</div>
	</div> <!-- price-container -->

	<!-- list sending UI -->
	<span ng-show="!clientView">
		<button ng-show="sendStatus!='sent'&&sendStatus!='sending'" ng-click="sendList()" id='send-btn' class='btn short'>SEND</button>
		<p ng-show="sendStatus=='sending'" id='sent-confirmation'>SENDING...</p>
		<p ng-show="sendStatus=='sent'" id='sent-confirmation'>SENT!</p>
	</span>

</div>








